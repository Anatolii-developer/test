<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Бібліотека курсів</title>
  <link rel="stylesheet" href="admin-styles.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
   <div class="layout">
   <aside class="sidebar" id="sidebar">
    <!-- Логотип -->
    <img class="logo" src="../assets/sidebar/IPS Logo (2).svg" alt="Logo" id="logoExpanded" />
  
    
    <p style="margin-left: 12px; font-weight: 600;">Admin</p>
  
    <!-- Навигация -->
    <nav>
      <a href="admin-requests.html"><img src="../assets/sidebar/profile.svg" /><span>Профайли</span></a>
      <a href="admin-certificate.html"><img src="../assets/sidebar/news.svg" /><span>Сертифікати</span></a>
      <a href="#"><img src="../assets/sidebar/3.svg" /><span>Планування кар'єри</span></a>
      <a href="#"><img src="../assets/sidebar/4.svg" /><span>Бібліотека</span></a>
      <a href="admin-all-courses.html"><img src="../assets/sidebar/5.svg" /><span>Курси</span></a>
      <a href="#"><img src="../assets/sidebar/6.svg" /><span>Облік практики</span></a>
      <a href="#"><img src="../assets/sidebar/7.svg" /><span>Здоров’я</span></a>
      <a href="#"><img src="../assets/sidebar/8.svg" /><span>Фінанси</span></a>
      <a href="#"><img src="../assets/sidebar/9.svg" /><span>Нерухомість</span></a>
    </nav>
  
    <!-- Настройки + выход -->
    <div style="margin-top: auto;">
      <a href="#"><img src="../assets/sidebar/settings.svg" /><span>Налаштування</span></a>
      <div class="logout" onclick="logoutUser()">
        <img src="../assets/sidebar/log-out.svg" alt="Logout Icon" width="20" height="20" />
        <span>Logout Account</span>
      </div>
    </div>
  </aside>
<div class="main-content">
  <div class="materials-header">
    <button class="btn-green">Додати матеріали до курсів</button>
    <button class="btn-light-green">Додати матеріали групи</button>
  </div>

  <label for="courseSelect">Оберіть курс</label>
  <select id="courseSelect">
    <option>Курс 1</option>
  </select>

  <table class="participants-table">
    <thead>
      <tr>
        <th>#</th>
        <th>Name and surname</th>
        <th>Email</th>
        <th>Role</th>
        <th>Date of birth</th>
        <th>Review</th>
      </tr>
    </thead>
    <tbody>
      <!-- Пример строки -->
      <tr>
        <td>1</td>
        <td>Ivan Ivanov</td>
        <td>jksncctoelk@gmail.com</td>
        <td>Супервізор 1 категорії</td>
        <td>11.05.2002</td>
        <td><img src="images/checkbox.png" alt="✔️" /></td>
      </tr>
    </tbody>
  </table>

  <div class="date-time">
    <label>Оберіть дату та час публікації</label>
    <input type="date" />
    <input type="time" />
  </div>

  <div class="action-buttons">
    <button class="btn-green-add">Додати відео</button>
    <button class="btn-dark-green">Додати книгу</button>
  </div>

  <button class="submit-button">Submit</button>
</div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", async () => {
    try {
     const response = await fetch("http://157.230.121.24:5050/api/users/approved");
      const users = await response.json();

      const tbody = document.querySelector(".participants-table tbody");
      tbody.innerHTML = "";

      users.forEach((user, index) => {
        const row = document.createElement("tr");

        row.innerHTML = `
          <td>${index + 1}</td>
          <td>${user.firstName || ""} ${user.lastName || ""}</td>
          <td>${user.email}</td>
          <td>${user.role || "-"}</td>
          <td>${new Date(user.dateOfBirth).toLocaleDateString("uk-UA")}</td>
          <td><img src="images/checkbox.png" alt="✔️" /></td>
        `;

        tbody.appendChild(row);
      });
    } catch (err) {
      console.error("Помилка при отриманні користувачів:", err);
    }
  });
</script>

</body>
</html>
